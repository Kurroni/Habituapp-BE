{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","pages/Signup.js","pages/Login.js","pages/Private.js","components/Navbar.js","components/AnonRoute.js","components/PrivateRoute.js","lib/cloudinary-service.js","lib/habit-service.js","lib/user-service.js","pages/Add-habit.js","pages/Today.js","pages/Edit-habit.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","username","email","password","post","then","data","response","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","type","onChange","to","Private","style","borderRadius","padding","background","onClick","component","rest","render","cloudinaryService","imageFile","imageUrl","habitService","habit","habitObj","newHabit","id","put","userService","habitsId","img","title","description","createOne","userId","_id","updateTheHabits","handlePhotoChange","files","file","FormData","append","imageUpload","width","height","src","alt","encType","listOfHabits","getAllHabits","showHabits","habits","className","length","map","key","theHabit","updateOne","App","exact","path","Signup","Login","AddHabit","Showhabits","EditHabit","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.31711a24.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { username, email, password } = user;\n    return this.auth\n      .post('/auth/signup', { username, email, password })\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, email, password } = user;\n    return this.auth\n      .post('/auth/login', { username, email, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get('/auth/me').then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tlib/AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { isLoggedin: false, user: null, isLoading: true };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const { username, email, password } = user;\n\n    authService\n      .signup({ username, email, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { username, password } = user;\n\n    authService\n      .login({ username, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nclass Signup extends Component {\n  state = { username: '', email:'', password: '' };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, email, password } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({ username, email, password }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, email, password } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={this.handleChange}\n          />\n\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?</p>\n        <Link to={'/login'}> Login</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from 'react';\nimport { withAuth } from '../lib/AuthProvider';\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n  state = { username: '', password: '' };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login({ username, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={this.handleChange}\n          />\n\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n\n        <p>No account?</p>\n        <Link to={'/signup'}> Sign Up</Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react';\n\nclass Private extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Private Route</h1>\n      </div>\n    );\n  }\n}\n\nexport default Private;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nclass Navbar extends Component {\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div\n        style={{ borderRadius: '5px', padding: '20px', background: '#686de0' }}>\n        {isLoggedin ? (\n          <div>\n            <p>username: {user.username}</p>\n            <button onClick={logout}>Logout</button>\n          </div>\n        ) : (\n          <div>\n            <Link to=\"/login\">\n              {' '}\n              <button>Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              {' '}\n              <button>Signup</button>{' '}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/private\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nfunction PrivateRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);","import axios from 'axios';\n\nclass Cloudinary {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n imageUpload (imageFile) {\n    return this.auth\n    .post('/cloudinary', imageFile)  //what we send BE\n    .then((imageUrl)=>imageUrl.data) //DB response, habitObj but with ID\n\n  }\n\n}\n\nconst cloudinaryService = new Cloudinary();\n\nexport default cloudinaryService;","import axios from \"axios\";\n\nclass Habit {\n  constructor() {\n    this.habit = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  createOne(habitObj) {\n    return this.habit\n      .post(\"/\", habitObj) //what we send BE\n      .then(newHabit => newHabit.data); //DB response, habitObj but with ID\n  }\n\n  getOne (id) {\n    return this.habit\n      .get('/:id', id)  //what we send BE\n      .then(habitObj => habitObj.data) //DB response, habitObj but with ID\n  }\n\n  updateOne (id, habitObj) {\n    return this.habit\n      .put('/:id', habitObj)  //what we send BE\n      .then(newHabit => newHabit.data) //DB response, habitObj but with ID\n    }\n  //   deleteOne (id) {\n  //     return this.habit\n  //     .post('/', habitObj)  //what we send BE\n  //     .then(newHabit) //DB response, habitObj but with ID\n  // }\n\n}\n\nconst habitService = new Habit();\n\nexport default habitService;\n","import axios from 'axios';\n\nclass User {\n  constructor() {\n    this.user = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  getOne(id) {\n    return this.user\n      .get(`/user/${id}`)\n      .then(({ data }) => data);\n  }\n\n  updateTheHabits(id, habitsId) {\n    return this.user\n      .put(`/user/${id}`, {habitsId: habitsId})\n      .then(({ data }) => console.log(data));\n  }\n\n  showHabits(id) {\n    return this.user\n      .get(`/user/${id}`)\n      .then(({ data }) => data);\n  }\n}\n\nconst userService = new User();\n\nexport default userService;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\n// import { Link } from \"react-router-dom\";\nimport cloudinaryService from \"./../lib/cloudinary-service\";\nimport habitService from \"./../lib/habit-service\";\nimport userService from \"../lib/user-service\";\n\nclass Addhabit extends Component {\n  state = { img: \"\", title: \"\", description: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { img, title, description } = this.state;\n    habitService.createOne({ img, title, description })\n    .then(newHabit => {\n      console.log(newHabit);\n      const userId = this.props.user._id\n      console.log(userId);\n      \n    userService.updateTheHabits(userId, newHabit._id)\n        });\n  };\n\n  handlePhotoChange = event => {\n    console.log(event.target.files[0]);\n    const file = event.target.files[0];\n    const imageFile = new FormData();\n    imageFile.append(\"photo\", file);\n    cloudinaryService.imageUpload(imageFile).then(imageUrl => {\n      console.log(imageUrl);\n      this.setState({ img: imageUrl });\n    });\n    console.log(this.state);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { img, title, description } = this.state;\n\n    return (\n      <div>\n      <button>Go back</button>\n        <h1>Create a new habit</h1>\n\n        <img style={{ width: 200, height: 'auto'}} src={this.state.img} alt=\"\"/>\n        <form onSubmit={this.handleFormSubmit} encType=\"multipart/form-data\">\n          <label>Photo:</label>\n          <input\n            type=\"file\"\n            name=\"photo\"\n            onChange={event => this.handlePhotoChange(event)}\n          />\n\n          <label>Title:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={title}\n            onChange={this.handleChange}\n          />\n\n          <label>Description:</label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={description}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Create\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Addhabit);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport { Link } from \"react-router-dom\";\nimport cloudinaryService from \"./../lib/cloudinary-service\";\nimport userService from \"../lib/user-service\";\n\nclass Showhabits extends Component {\n\tstate = { \n    listOfHabits: [] \n  };\n    \n\n    getAllHabits = () => {  \n    const userId = this.props.user._id;\n    userService.showHabits(userId)\n    .then((user)=> {\n        console.log('USER', user);\n        \n    this.setState({listOfHabits: user.habits})\n    })\n    }\n    componentDidMount() {\n    //  fetch the data from API befor initial render\n    this.getAllHabits();  \n  }\n\n    render() {\n        const {listOfHabits} = this.state\n        \n        \n        return (\n            <div className='habit-list'>\n          { \n            listOfHabits.length ? \n            listOfHabits.map( (habits) => {\n            return (\n              \n                <div key={habits._id} className='habit'>\n                <img src={habits.img} alt=\"\"/>\n                  <h3>{habits.title}</h3>\n                  <p>{habits.description} </p>\n               </div>\n             \n                    )})\n            : <h3>The list of habits is empty</h3>\n          }\n        </div>\n        )\n    }\n\n}\nexport default withAuth(Showhabits);\n\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\n// import { Link } from \"react-router-dom\";\nimport cloudinaryService from \"./../lib/cloudinary-service\";\nimport habitService from \"./../lib/habit-service\";\n\nclass Edithabit extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n        img: this.props.theHabit.img,//shouldn't be req.params??\n        title: this.props.theHabit.title,\n        description: this.props.theHabit.description\n    }\n  }\n  \n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { img, title, description } = this.state;\n    const { _id } = this.props.theHabit;\n\n    habitService.updateOne({ img, title, description }).then(newHabit => {\n      console.log(newHabit);\n    });\n  };\n\n  handlePhotoChange = event => {\n    console.log(event.target.files[0]);\n    const file = event.target.files[0];\n    const imageFile = new FormData();\n    imageFile.append(\"photo\", file);\n    cloudinaryService.imageUpload(imageFile).then(imageUrl => {\n      console.log(imageUrl);\n      this.setState({ img: imageUrl });\n    });\n    console.log(this.state);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { img, title, description } = this.state;\n\n    return (\n      <div>\n      <button>Go back</button>\n        <h1>Edit the habit</h1>\n\n        <img style={{ width: 200, height: 'auto'}} src={this.state.img} alt=\"\"/>\n        <form onSubmit={this.handleFormSubmit} encType=\"multipart/form-data\">\n          <label>Photo:</label>\n          <input\n            type=\"file\"\n            name=\"photo\"\n            onChange={event => this.handlePhotoChange(event)}\n          />\n\n          <label>Title:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={this.state.title}\n            onChange={this.handleChange}\n          />\n\n          <label>Description:</label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={this.state.description}\n            onChange={this.handleChange}\n          />\n\n          <input type=\"submit\" value=\"Save\" />\n        </form>\n        <button>Delete habit</button>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Edithabit);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Private from './pages/Private';\nimport Navbar from './components/Navbar';\n\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\nimport AddHabit from './pages/Add-habit';\nimport Showhabits from './pages/Today';\nimport EditHabit from './pages/Edit-habit';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar />\n        <h1>Basic React Authentication</h1>\n\n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path=\"/private\" component={Private} />\n          <PrivateRoute exact path=\"/add-habit\" component={AddHabit}/>\n          <PrivateRoute exact path=\"/today\" component={Showhabits}/>\n          <PrivateRoute exact path=\"/edit-habit\" component={EditHabit}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './lib/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}