(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/logo_200x200.cbe7845f.png"},35:function(e,t,a){e.exports=a(63)},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(32),c=a.n(r),l=a(1),o=a(2),s=a(5),u=a(3),h=a(6),m=a(14),p=a(12),d=a(4),g=a(13),b=a.n(g),f=new(function(){function e(){Object(l.a)(this,e),this.auth=b.a.create({baseURL:"https://habitu-app.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.email,n=e.password;return this.auth.post("/auth/signup",{username:t,email:a,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.email,n=e.password;return this.auth.post("/auth/login",{username:t,email:a,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),v=i.a.createContext(),E=v.Consumer,y=v.Provider,O=function(e){return function(t){function a(){return Object(l.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return i.a.createElement(E,null,(function(a){var n=a.login,r=a.signup,c=a.user,l=a.logout,o=a.isLoggedin,s=a.isLoading;return i.a.createElement(e,Object.assign({login:n,signup:r,user:c,logout:l,isLoggedin:o,isLoading:s},t.props))}))}}]),a}(i.a.Component)},j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={isLoggedin:!1,user:null,isLoading:!0},a.signup=function(e){var t=e.username,n=e.email,i=e.password;f.signup({username:t,email:n,password:i}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e){var t=e.username,n=e.password;f.login({username:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){f.logout().then((function(){return a.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,r=this.login,c=this.logout,l=this.signup;return i.a.createElement(y,{value:{isLoading:t,isLoggedin:a,user:n,login:r,logout:c,signup:l}},this.props.children)}}]),t}(i.a.Component),w=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={username:"",email:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,i=t.email,r=t.password;a.props.signup({username:n,email:i,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(p.a)({},n,i))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password;return i.a.createElement("div",null,i.a.createElement(d.b,{to:"/login"}," ",i.a.createElement("button",{className:"login-btn"},"Login")," "),i.a.createElement("div",{className:"signup-wrapper"},i.a.createElement("h1",null,"Join and start your new habit"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("input",{type:"text",name:"username",placeholder:"Username",maxLength:"12",value:t,onChange:this.handleChange}),i.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:a,onChange:this.handleChange}),i.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:n,onChange:this.handleChange}),i.a.createElement("input",{id:"signup-btn",type:"submit",value:"Signup"})),i.a.createElement("div",{className:"login-link"},i.a.createElement("p",null,"Already have an account?"),i.a.createElement(d.b,{to:"/login"},"Login"))))}}]),t}(n.Component)),k=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,i=t.password;a.props.login({username:n,password:i})},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(p.a)({},n,i))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return i.a.createElement("div",null,i.a.createElement(d.b,{to:"/signup"}," ",i.a.createElement("button",{className:"signup-btn"},"Signup")," "),i.a.createElement("div",{className:"login-wrapper"},i.a.createElement("h1",null,"Login"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:t,onChange:this.handleChange}),i.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:a,onChange:this.handleChange}),i.a.createElement("input",{id:"login-btn",type:"submit",value:"Login"})),i.a.createElement("div",{className:"signup-link"},i.a.createElement("p",null,"No account?"),i.a.createElement(d.b,{to:"/signup"}," Sign Up"))))}}]),t}(n.Component)),C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Private Route"))}}]),t}(n.Component),L=a(21),N=a.n(L),S=O(function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout,n=e.isLoggedin;return i.a.createElement("div",{className:"nav-wrapper"},n?i.a.createElement("div",{className:"logo-nav"},i.a.createElement(d.b,{to:"/today"},i.a.createElement("img",{className:"logo",src:N.a,alt:""})),i.a.createElement("div",{className:"username"},i.a.createElement("p",null,"Username:"),i.a.createElement("p",null,t.username)),i.a.createElement("button",{className:"logout-btn",onClick:a},"Logout")):i.a.createElement("div",{className:"logo-nav"},i.a.createElement("img",{className:"logo",src:N.a,alt:""})))}}]),t}(n.Component)),D=a(17);var x=O((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,r=Object(D.a)(e,["component","isLoggedin","isLoading"]);return n?i.a.createElement("h1",null,"Loading"):i.a.createElement(m.b,Object.assign({},r,{render:function(e){return a?i.a.createElement(m.a,{to:"/today"}):i.a.createElement(t,e)}}))}));var H=O((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,r=Object(D.a)(e,["component","isLoggedin","isLoading"]);return n?i.a.createElement("h1",null,"Loading"):i.a.createElement(m.b,Object.assign({},r,{render:function(e){return a?i.a.createElement(t,e):i.a.createElement(m.a,{to:"/login"})}}))})),A=new(function(){function e(){Object(l.a)(this,e),this.auth=b.a.create({baseURL:"https://habitu-app.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"imageUpload",value:function(e){return this.auth.post("/cloudinary",e).then((function(e){return e.data}))}}]),e}()),F=new(function(){function e(){Object(l.a)(this,e),this.habit=b.a.create({baseURL:"https://habitu-app.herokuapp.com/habits",withCredentials:!0})}return Object(o.a)(e,[{key:"createOne",value:function(e){return this.habit.post("/",e).then((function(e){return e.data}))}},{key:"getOne",value:function(e){return this.habit.get("/".concat(e)).then((function(e){return e.data}))}},{key:"updateOne",value:function(e,t){return this.habit.put("/".concat(e),t).then((function(e){return e.data}))}},{key:"updateDaysOfOne",value:function(e,t){return this.habit.put("/days/".concat(e),{days:t}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"deleteOne",value:function(e,t){return this.habit.delete("/".concat(e),t).then()}}]),e}()),U=new(function(){function e(){Object(l.a)(this,e),this.user=b.a.create({baseURL:"https://habitu-app.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"getOne",value:function(e){return this.user.get("/user/".concat(e)).then((function(e){return e.data}))}},{key:"updateTheHabits",value:function(e,t){return this.user.put("/user/".concat(e),{habitsId:t}).then((function(e){var t=e.data;return console.log(t)}))}},{key:"showHabits",value:function(e){return this.user.get("/user/".concat(e)).then((function(e){return e.data}))}}]),e}()),P=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={img:"",title:"",description:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.img,i=t.title,r=t.description;F.createOne({img:n,title:i,description:r}).then((function(e){console.log(e);var t=a.props.user._id;console.log(t),U.updateTheHabits(t,e._id)})).then((function(){return window.location.href="/today"}))},a.handlePhotoChange=function(e){console.log(e.target.files[0]);var t=e.target.files[0],n=new FormData;n.append("photo",t),A.imageUpload(n).then((function(e){console.log(e),a.setState({img:e})})),console.log(a.state)},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(p.a)({},n,i))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;this.state.img;return i.a.createElement("div",{className:"edit-habit-wrapper"},i.a.createElement(d.b,{to:"/today",className:"goback-btn"},i.a.createElement("i",{class:"fas fa-arrow-circle-left"})),i.a.createElement("h1",null,"Create the habit"),i.a.createElement("form",{onSubmit:this.handleFormSubmit,encType:"multipart/form-data"},i.a.createElement("label",null,"Photo:"),i.a.createElement("input",{className:"input-img",type:"file",name:"photo",onChange:function(t){return e.handlePhotoChange(t)}}),i.a.createElement("div",{className:"img-edit"},i.a.createElement("img",{style:{width:"auto",height:"140px"},src:this.state.img,alt:""})),i.a.createElement("label",null,"Title:"),i.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),i.a.createElement("label",null,"Description:"),i.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:this.handleChange,rows:"7",cols:"30"}),i.a.createElement("input",{id:"save-btn",type:"submit",value:"Create"})))}}]),t}(n.Component)),_=O(function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"empty-list-wrapper"},"        ",i.a.createElement("h3",{className:"emptylist-header"},"Create your new habit starting today!"),i.a.createElement(d.b,{to:"add-habit"},i.a.createElement("p",{className:"add-btn-empty"},i.a.createElement("i",{className:"fas fa-plus-circle"}))))}}]),t}(n.Component)),I=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={listOfHabits:[],today:""},a.getAllHabits=function(){var e=a.props.user._id;U.showHabits(e).then((function(e){a.setState({listOfHabits:e.habits})}))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllHabits();var e=(new Date).getDate()+""+((new Date).getMonth()+1)+(new Date).getFullYear();this.setState({today:e})}},{key:"HandleIsDone",value:function(e){var t=this,a=this.state.listOfHabits[e.target.value],n=e.target.name;if(e.target.checked){var i=a.days,r=(new Date).getDate()+""+((new Date).getMonth()+1)+(new Date).getFullYear();i.push(r),F.updateDaysOfOne(n,i).then((function(){return t.getAllHabits()}))}else{var c=a.days;c.pop(),F.updateDaysOfOne(n,c).then((function(){return t.getAllHabits()}))}}},{key:"render",value:function(){var e=this,t=this.state.listOfHabits;return i.a.createElement("div",{className:"habit-list"},t.length?i.a.createElement("div",null,t.map((function(t,a){return i.a.createElement("div",{key:a},i.a.createElement("div",{className:"habit-tile",key:t._id},i.a.createElement("img",{src:t.img,alt:""}),i.a.createElement(d.b,{to:"/single-habit/".concat(t._id)},i.a.createElement("h3",null,t.title)),i.a.createElement("label",{className:"container"},t.days.length&&t.days[t.days.length-1]===e.state.today?i.a.createElement("input",{type:"checkbox",name:t._id,value:a,checked:!0,onChange:function(t){return e.HandleIsDone(t)}}):i.a.createElement("input",{type:"checkbox",name:t._id,value:a,checked:!1,onChange:function(t){return e.HandleIsDone(t)}}),i.a.createElement("span",{className:"checkmark"}))),i.a.createElement("div",null))})),i.a.createElement(d.b,{to:"add-habit"}," ",i.a.createElement("p",{className:"add-btn-full"},i.a.createElement("i",{className:"fas fa-plus-circle"}))),"                       "):i.a.createElement(_,null))}}]),t}(n.Component)),T=O(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.img,i=t.title,r=t.description,c=a.props.match.params.id;F.updateOne(c,{img:n,title:i,description:r}).then((function(){a.props.history.push("/today")}))},a.handlePhotoChange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),A.imageUpload(n).then((function(e){a.setState({img:e})}))},a.handleChange=function(e){var t=e.target,n=t.name,i=t.value;a.setState(Object(p.a)({},n,i))},a.deleteHabit=function(){var e=a.props.match.params.id;F.deleteOne(e).then((function(){a.props.history.push("/today")}))},a.state={img:"",title:"",description:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;F.getOne(t).then((function(t){var a=t.img,n=t.title,i=t.description;e.setState({img:a,title:n,description:i})}))}},{key:"render",value:function(){var e=this,t=(this.state.img,this.props.match.params.id);return i.a.createElement("div",{className:"edit-habit-wrapper"},i.a.createElement("button",{id:"delete-btn",onClick:this.deleteHabit},"Delete habit"),i.a.createElement(d.b,{to:"/single-habit/".concat(t),className:"goback-btn"},i.a.createElement("i",{class:"fas fa-arrow-circle-left"})),i.a.createElement("h1",null,"Edit the habit"),i.a.createElement("form",{onSubmit:this.handleFormSubmit,encType:"multipart/form-data"},i.a.createElement("label",null,"Photo:"),i.a.createElement("input",{className:"input-img",type:"file",name:"photo",onChange:function(t){return e.handlePhotoChange(t)}}),i.a.createElement("div",{className:"img-edit"},i.a.createElement("img",{style:{width:"auto",height:"140px"},src:this.state.img,alt:""})),i.a.createElement("label",null,"Title:"),i.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),i.a.createElement("label",null,"Description:"),i.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:this.handleChange,rows:"7",cols:"30"},"Short description."),i.a.createElement("input",{id:"save-btn",type:"submit",value:"Save"})))}}]),t}(n.Component)),M=O(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={img:"",title:"",description:"",days:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.habitId;F.getOne(t).then((function(t){var a=t.img,n=t.title,i=t.description,r=t.days;e.setState({img:a,title:n,description:i,days:r})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"onehabit-wrapper",key:this.state._id},i.a.createElement("h3",{id:"onehabit-title"},this.state.title),i.a.createElement("img",{id:"onehabit-img",src:this.state.img,alt:""}),i.a.createElement("p",{id:"onehabit-desc"},this.state.description),i.a.createElement("p",null,"Total times done: ",this.state.days.length)))}}]),t}(n.Component)),R=O(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).deleteHabit=function(){var e=a.props.match.params.id;F.deleteOne(e).then((function(){a.props.history.push("/today")}))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return i.a.createElement("div",{className:"single-habit-page"},i.a.createElement("button",{id:"delete-btn",onClick:this.deleteHabit},"Delete habit"),i.a.createElement(d.b,{to:"/today",className:"goback-btn"},i.a.createElement("i",{className:"fas fa-arrow-circle-left"})),i.a.createElement(M,{habitId:e}),i.a.createElement(d.b,{to:"/edit-habit/".concat(e)},i.a.createElement("button",{className:"edit-btn"},"Edit")))}}]),t}(n.Component)),J=(a(62),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(S,null),i.a.createElement(m.d,null,i.a.createElement(x,{exact:!0,path:"/",component:w}),i.a.createElement(x,{exact:!0,path:"/signup",component:w}),i.a.createElement(x,{exact:!0,path:"/login",component:k}),i.a.createElement(H,{exact:!0,path:"/private",component:C}),i.a.createElement(H,{exact:!0,path:"/add-habit",component:P}),i.a.createElement(H,{exact:!0,path:"/today",component:I}),i.a.createElement(H,{exact:!0,path:"/edit-habit/:id",component:T}),i.a.createElement(H,{exact:!0,path:"/single-habit/:id",component:R})))}}]),t}(n.Component));c.a.render(i.a.createElement(d.a,null,i.a.createElement(j,null,i.a.createElement(J,null))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.87f37442.chunk.js.map